#:import Factory kivy.factory.Factory

<BoxLayout>
    orientation: 'vertical'
    size: root.width, root.height
    padding: 20
    canvas.before:
        Color:
            rgba: (0.81, 0.95, 0.7, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos

<HorBoxLayout@BoxLayout>
    orientation: 'horizontal'
    padding: 5

<MyButton@Button>
    halign: 'center'
    valign: 'middle'
    size_hint: (0.5, 1)
    size: self.size
    pos_hint_x: {'center_x': 0.5}
    color: (1, 1, 1, 1)
    background_color: (0.43, 0.61, 0.43, 1)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (0, 0, 0, 1)
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height

<TabbedPanelItem>
    background_color: (0.81, 0.95, 0.7, 1)
    background_normal: ''
    color: (1, 1, 1, 1)
    canvas.before:
        Color:
            rgba: (0, 0, 0, 1)
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height

<Label>
    font_size: '15sp'
    color: (0, 0, 0, 1)
    text_size: self.size
    halign: 'center'
    valign: 'middle'
    markup: True 

<LLabel@Label>
    halign: 'left'

<RLabel@Label>
    halign: 'right'

<Spinner@Spinner>
    halign: 'center'
    valign: 'middle'
    text_size: '15sp'
    size_hint: (1.5, 1)
    pos_hint: {'right': 1, 'center_y': 0.5}
    sync_height: True
    background_color: (0.81, 0.95, 0.7, 1)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (0, 0, 0, 1)
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height
    option_cls: Factory.sp

<sp@SpinnerOption>
    color: 1, 1, 1, 1
    background_color: 0.81, 0.95, 0.7, 1

<TextInput>
    multiline: 'False'
    halign: 'center'
    valign: 'middle'
    color: (0, 0, 0, 1)
    size_hint: (1.5, 0.8)
    pos_hint: {'left': 0, 'center_y': 0.5}
    background_color: (1, 1, 1, 1)
    canvas.before:
        Color:
            rgba: (0, 0, 0, 1)

<DscrTextInput@TextInput>
    multiline: True
    size_hint_y: (1.5)

<Container>
    halign: 'center'
    valign: 'middle'
    padding: 10
    canvas.before:
        Color: 
            rgba: (1, 1, 1, 1)
        Rectangle:
            pos: self.pos
            size: self.size
    do_default_tab: False

    TabbedPanelItem:
        text: 'Начать'
        BoxLayout:
            Label:
                text: '[b]Электронный журнал[/b]\nинженерно-геологических скважин'
            Label:
                text: '_____________________________________________________'
            LLabel:
                text: 'Для начала записи - НАЧАТЬ. Будет создан либо откроется эксель-файл.'
            LLabel:
                text: 'После заполнения данных по скважине - ВВЕСТИ. Данные зафиксируются на третьей вкладке.'
            LLabel:
                text: 'При необходимости добавить образец - ввести только данные о новом образце, остальное оставить.'
            LLabel:
                text: 'При необходимости добавить ИГЭ - ввести только данные о новом ИГЭ, остальное оставить.'
            LLabel:
                text: 'После проверки - ЗАПОМНИТЬ. Данные будут записаны в эксель-файл.'
            Label:
                text: '_____________________________________________________'
            Label:
                text: ''
            HorBoxLayout:
                MyButton:
                    id: btn_start
                    text: 'НАЧАТЬ'
                    on_release: root.start()
    
    TabbedPanelItem:
        text: 'Ввести'
        BoxLayout:
            HorBoxLayout:
                RLabel:
                    text: 'No объекта..'
                TextInput:
                    id: obj_nm
            HorBoxLayout:
                RLabel:
                    text: 'No скважины..'
                TextInput:
                    id: bore_nm
            HorBoxLayout:
                RLabel:
                    text: 'Дата проходки..'
                TextInput:
                    id: bore_date
            HorBoxLayout:
                RLabel:
                    text: 'Абс. отметка..'
                TextInput:
                    id: bore_abs
            HorBoxLayout:
                RLabel:
                    text: 'Глуб. скважины..'
                TextInput:
                    id: bore_depth
            HorBoxLayout:
                RLabel:
                    text: 'Глуб. кровли ИГЭ..'
                TextInput:
                    id: layer_roof
            HorBoxLayout:
                RLabel:
                    text: 'Описание ИГЭ..'
                DscrTextInput:
                    id: layer_descr
            HorBoxLayout:
                RLabel:
                    text: 'Вид образца..'
                Spinner:
                    id: sample_type
                    text: 'Вид образца'
                    values: 'монолит', 'нарушенный', 'коррозия', 'вода'
            HorBoxLayout:
                RLabel:
                    text: 'Глуб. образца..'
                TextInput:
                    id: sample_depth
            HorBoxLayout:
                RLabel:
                    text: 'Глуб. подошвы ИГЭ..'
                TextInput:
                    id: layer_base
            HorBoxLayout:
                RLabel:
                    text: ''
            HorBoxLayout:
                MyButton:
                    id: btn_bore
                    text: 'ВВЕСТИ'
                    on_release: root.submit()
              
    TabbedPanelItem:
        text: 'Запомнить' 
        BoxLayout:
            LLabel:
                id: lbl_obj_nm
                text: 'Номер объекта'
            LLabel:
                id: lbl_bore_nm
                text: 'Номер скважины'
            LLabel:
                id: lbl_bore_date
                text: 'Дата проходки'
            LLabel:
                id: lbl_bore_abs
                text: 'Абс. отметка'
            LLabel:
                id: lbl_bore_depth
                text: 'Глубина скважины'
            LLabel:
                id: lbl_layer_roof
                text: 'Глубина кровли ИГЭ'
            LLabel:
                id: lbl_layer_descr
                text: 'Описание ИГЭ'
            LLabel:
                id: lbl_sample_type
                text: 'Вид образца'
            LLabel:
                id: lbl_sample_depth
                text: 'Глубина образца'
            LLabel:
                id: lbl_layer_base
                text: 'Глубина ИГЭ'
            Label:
                text: ''
            HorBoxLayout:
                MyButton:
                    id: btn_submit
                    text: 'ЗАПОМНИТЬ'
                    on_release: root.write()
